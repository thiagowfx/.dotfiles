---
- name: bootstrap environment
  hosts: all
  roles:
    - role: elliotweiser.osx-command-line-tools
  tasks:
    # https://stackoverflow.com/questions/98310/focus-follows-mouse-plus-auto-raise-on-mac-os-x
    - name: set focus follows mouse on Terminal.app
      community.general.osx_defaults:
        domain: com.apple.Terminal
        key: FocusFollowsMouse
        type: bool
        value: true
        state: present
    - name: install git and stow
      ansible.builtin.package:
        name: "{{ item }}"
        state: present
      with_items:
        - git
        - stow
    - name: install brew apps
      community.general.homebrew:
        name: "{{ item }}"
      with_items:
        - ack
        - ansible
        - atool
        - bash
        - bash-completion@2
        - coreutils
        - direnv
        - entr
        - exa
        - fd
        - fpp
        - fzf
        - gh
        - git
        - imagemagick
        - jq
        - make
        - moreutils
        - mr
        - mtr
        - ncdu
        - ranger
        - shellcheck
        - stow
        - tig
        - tmux
        - tree
        - vim
        - watch
        - wget
        - zoxide
        - zsh-completions
