set nocompatible

let mapleader=","
let g:mapleader=","
inoremap jj <ESC>

call plug#begin('~/.vim/plugged')

Plug 'tpope/vim-sensible'      " better defaults
Plug 'crusoexia/vim-monokai'   " color theme
Plug 'itchyny/lightline.vim'

Plug 'dietsche/vim-lastplace'  " remember cursor positions
Plug 'mhinz/vim-signify'       " gutter
Plug 'wincent/terminus'        " mouse, bracketed paste, focus reporting, insert cursor
Plug 'docunext/closetag.vim'   " automatically closes HTML tags </
Plug 'Yggdroot/indentLine'     " displays indention levels with thin vertical lines
Plug 'vim-syntastic/syntastic' " syntax checking, static
Plug 'bronson/vim-trailing-whitespace'

Plug 'chrisbra/csv.vim',      {'for': 'csv'}
Plug 'editorconfig/editorconfig-vim'
Plug 'sheerun/vim-polyglot'  " multiple lazily-loaded language packs
Plug 'jceb/vim-orgmode'      " vim-orgmode. TODO: remove once it is merged with vim-polyglot
Plug 'skammer/vim-css-color', {'for': 'css'}

Plug 'junegunn/fzf',            {'on': 'FZF', 'do': './install --no-zsh --no-fish'}
Plug 'junegunn/vim-easy-align', {'on': 'EasyAlign'}
Plug 'junegunn/goyo.vim',       {'on': 'Goyo'}
Plug 'tpope/vim-commentary'     " gcc, <visual>gc
Plug 'tpope/vim-endwise'        " automatically adds `end`, `fi`, etc
Plug 'tpope/vim-eunuch',        {'on': ['Rename', 'Remove', 'SudoEdit', 'SudoWrite']}
Plug 'tpope/vim-sleuth'         " automatically infers tabs and spaces settings
Plug 'tpope/vim-repeat'         " .
Plug 'mileszs/ack.vim',         {'on': ['Ack', 'Ag']}
Plug 'vim-scripts/matchit.zip'  " %

call plug#end()

if &t_Co >= 256 || has("gui_running")
        colorscheme monokai
        hi Normal ctermbg=none
        hi NonText ctermbg=none
endif

if has('persistent_undo')
        set undofile undodir=~/.vim/undo
endif
set history=10000 undolevels=10000 undoreload=10000

let &showbreak = '> '
set autochdir autoread
set backspace=indent,eol,start
set nocursorline nocursorcolumn
set encoding=utf-8
set foldmethod=syntax foldlevel=0 foldnestmax=2 nofoldenable
set incsearch hlsearch wrapscan ignorecase infercase smartcase smartindent
set lazyredraw ttyfast
set noswapfile nobackup nowb " disable backups and swapfile, use undo instead
set number scrolloff=5 shortmess=atI
set showcmd showmatch showmode
set splitbelow splitright swb=useopen
set wildmode=list:longest wildignore+=*/.git,*/.hg,*/.svn,*/.DS_Store

if v:version > 703 || v:version == 703 && has('patch541')
        set formatoptions+=j " comment joins
endif

augroup i3config
        autocmd!
        autocmd BufWritePost /*i3/config.base !j4-make-config
augroup END

augroup vimconfig
        autocmd!
        autocmd BufWritePost /*vimrc :PlugInstall | PlugClean! | q
augroup END

execute "silent! source ~/.vim/vimrc_corp"

" vim: et
