# This function creates an alias iff the specified program and/or a given file
# exists on the system.
#
# Arguments:
#  $1: the alias
#  $2: its value
#  $3: a program (e.g. vim or /usr/bin/vim)
#  $4: a file (e.g. $HOME/directory)
#
addalias() {
  [[ "x$3" != "x" ]] && ! command -v "$3" &>/dev/null && return
  [[ "x$4" != "x" ]] && [ ! -e "$4" ] && return
  alias "$1"="$2"
}

# misc
addalias make "make -j"
addalias cower "cower --color=always --sort=votes --target=$HOME/.aur" cower "$HOME/.aur"
addalias alsamixer "alsamixer -c 0" alsamixer
addalias xclip "xclip -selection clipboard" xclip
addalias x-terminal-emulator "$TERMINAL" "$TERMINAL"

# Workaround to make tmux start in 256-color mode.
addalias tmux "tmux -c $SHELL"

# verbose / output
alias cp="cp -v"
alias ln="ln -v"
alias mv="mv -v"
addalias chmod "chmod -v" chmod
addalias chown "chown -v" chown
addalias curl "curl -v -L" curl
addalias df "df -h" df
addalias du "du -h" du
addalias pstree "pstree -p" pstree
addalias hexdump "hexdump -C" hexdump
addalias grep "grep --color=always" grep
addalias free "free -h" free
addalias diff "diff -uN" diff
addalias diff "colordiff -uN" colordiff
addalias colordiff "colordiff -uN" colordiff
addalias netstat "netstat -pln" netstat
addalias pgrep "pgrep -fl" pgrep
addalias ls "ls -F" ls

# typos
alias sl="ls"
