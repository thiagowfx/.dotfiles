[user]
	name = Thiago Perrotta
	email = tbperrotta@gmail.com

# https://git-scm.com/docs/git-send-email
# https://git-send-email.io/
[sendemail]
	annotate = yes
	smtpEncryption = tls
	smtpServer = smtp.gmail.com
	smtpServerPort = 587
	smtpUser = tbperrotta@gmail.com

[alias]
	amend = commit --amend --no-edit
	dc = diff --cached
	ignore = !curl -L -s https://www.gitignore.io/api/$@
	l = log --graph --pretty=oneline --abbrev-commit --all  # log; there's also gitk and tig
	st = status

	# hg compatibility
	reword = commit --amend
	shelve = stash
	unshelve = stash apply
	unstash = stash apply
	world = !git shelve && git pull --rebase && git unshelve

[apply]
	# Detect whitespace errors when applying a patch.
	whitespace = fix

[branch]
	autosetupmerge = always
	autosetuprebase = always

[commit]
	template = ~/.git_commit_msg.txt

[core]
	# Auto-convert CRLF <-> LF. Yields a transparent experience in Windows.
	autocrlf = input
	editor = vim
	hooksPath = ~/.githooks
	pager = "(diff-highlight 2>/dev/null || cat) | ${PAGER:-less}"

[credential]
	# Cache credentials in memory for a while. See git-credential-cache(1).
	helper = cache

# https://git-scm.com/docs/diff-config
[diff]
	# Make it easier to distinguish moved snippets of code within the same file.
	colorMoved = default
	# Detect copies in addition to renames
	renames = copies
	# A la `git submodule summary`
	submodule = log

[fetch]
	prune = true

[format]
	# Automatically sign-off patches when using format-patch.
	signoff = true

[help]
	autocorrect = 1

[init]
	# some codebases use 'main' these days
	defaultBranch = master

[merge]
	prompt = true
	tool = diffconflicts

[mergetool]
	keepBackup = false

# https://github.com/whiteinge/diffconflicts
[mergetool "diffconflicts"]
	cmd = vim -c DiffConflicts \"$MERGED\" \"$BASE\" \"$LOCAL\" \"$REMOTE\"
	trustExitCode = true

[pull]
	rebase = true

[push]
	default = current
	followTags = true

# https://git-scm.com/docs/git-rebase
[rebase]
	autosquash = true

# https://git-scm.com/docs/git-rerere
[rerere]
	autoupdate = true
	enabled = true

[status]
	# Show individual files in untracked directories.
	showUntrackedFiles = all
	# Show summary of commits for modified submodules
	submoduleSummary = true

[submodule]
	# Clone new submodules in parallel with as many jobs.
	fetchJobs = 0

# Import corp configs if any.
[include]
	path = .gitconfig_corp
